{"ast":null,"code":"import _classCallCheck from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/src/components/common/AllIssues.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport Topic from \"../common/Topic\";\n\nvar AllIssues =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AllIssues, _Component);\n\n  function AllIssues() {\n    _classCallCheck(this, AllIssues);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AllIssues).apply(this, arguments));\n  }\n\n  _createClass(AllIssues, [{\n    key: \"getIssues\",\n    value: function getIssues() {\n      var _this = this;\n\n      var topics = [];\n\n      if (!this.props.issues) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 11\n          },\n          __self: this\n        });\n      }\n\n      for (var key in this.props.issues) {\n        var issues = [];\n        this.props.issues[key].map(function (issue, i) {\n          if (_this.props.mpData) {\n            if (_this.mpHasVote(issue)) {\n              issues.push(React.createElement(\"div\", {\n                key: issue.id,\n                className: \"row\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 19\n                },\n                __self: this\n              }, React.createElement(\"div\", {\n                className: \"col-sm-9 text-left\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 20\n                },\n                __self: this\n              }, React.createElement(Link, {\n                to: \"/issues/\".concat(key, \"/\").concat(issue.id, \"/\").concat(issue.title),\n                className: \"topic-button\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 21\n                },\n                __self: this\n              }, issue.title)), React.createElement(\"div\", {\n                className: \"col-sm-3 text-left\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 23\n                },\n                __self: this\n              }, _this.renderMpVote(issue))));\n            }\n          } else {\n            issues.push(React.createElement(\"div\", {\n              key: issue.id,\n              className: \"row\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 31\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"col-sm-9 text-left\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 32\n              },\n              __self: this\n            }, React.createElement(Link, {\n              to: \"/issues/\".concat(key, \"/\").concat(issue.id, \"/\").concat(issue.title),\n              className: \"topic-button\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 33\n              },\n              __self: this\n            }, issue.title)), React.createElement(\"div\", {\n              className: \"col-sm-3 text-left\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 35\n              },\n              __self: this\n            }, _this.renderIssueStatus(issue))));\n          }\n        });\n        topics.push(React.createElement(Topic, {\n          key: key,\n          title: key,\n          className: \"col-lg-4 col-md-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, issues));\n      }\n\n      return topics;\n    }\n  }, {\n    key: \"mpHasVote\",\n    value: function mpHasVote(issue) {\n      return issue.votesFor.includes(issue.id) || issue.votesAgainst.includes(issue.id);\n    }\n  }, {\n    key: \"renderMpVote\",\n    value: function renderMpVote(issue) {\n      return issue.votesFor.includes(this.props.mpData.id) ? React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          color: 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"for\") : React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"against\");\n    }\n  }, {\n    key: \"renderIssueStatus\",\n    value: function renderIssueStatus(issue) {\n      return issue.votesFor.length > issue.votesAgainst.length ? React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          color: 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Passed\") : React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          color: 'red'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Not passed\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.getIssues());\n    }\n  }]);\n\n  return AllIssues;\n}(Component);\n\nexport default AllIssues;","map":{"version":3,"sources":["/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/src/components/common/AllIssues.js"],"names":["React","Component","Link","axios","Topic","AllIssues","topics","props","issues","key","map","issue","i","mpData","mpHasVote","push","id","title","renderMpVote","renderIssueStatus","votesFor","includes","votesAgainst","fontWeight","color","length","getIssues"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport Topic from \"../common/Topic\";\n\nclass AllIssues extends Component {\n\n  getIssues() {\n    var topics = [];\n    if (!this.props.issues) {\n      return (<div></div>);\n    }\n    for(var key in this.props.issues) {\n      var issues = [];\n      this.props.issues[key].map((issue, i) => { \n        if (this.props.mpData) {\n          if (this.mpHasVote(issue)) {\n            issues.push(\n              <div key={issue.id} className='row'>\n                <div className=\"col-sm-9 text-left\">\n                  <Link to={`/issues/${key}/${issue.id}/${issue.title}`} className=\"topic-button\">{issue.title}</Link>\n                </div>\n                <div className=\"col-sm-3 text-left\">\n                  {this.renderMpVote(issue)}\n                </div>\n              </div>\n            )\n          }\n        } else {\n          issues.push(\n            <div key={issue.id} className='row'>\n              <div className=\"col-sm-9 text-left\">\n                <Link to={`/issues/${key}/${issue.id}/${issue.title}`} className=\"topic-button\">{issue.title}</Link>\n              </div>\n              <div className=\"col-sm-3 text-left\">\n                {this.renderIssueStatus(issue)}\n              </div>\n            </div>\n          )\n        }\n      });\n      topics.push(\n        <Topic key={key} title={key} className=\"col-lg-4 col-md-6\">\n          {issues}\n        </Topic>\n      );\n    }\n    return topics;\n  }\n\n  mpHasVote(issue) {\n    return issue.votesFor.includes(issue.id) || issue.votesAgainst.includes(issue.id);\n  }\n\n  renderMpVote(issue) {\n    return issue.votesFor.includes(this.props.mpData.id) \n      ? <p style={{fontWeight: 'bold', color: 'green'}}>for</p>\n      : <p style={{fontWeight: 'bold', color: 'red'}}>against</p>\n  }\n\n  renderIssueStatus(issue) {\n    return issue.votesFor.length > issue.votesAgainst.length\n      ? <p style={{fontWeight: 'bold', color: 'green'}}>Passed</p>\n      : <p style={{fontWeight: 'bold', color: 'red'}}>Not passed</p>\n  }\n\n  render() {\n    return (\n  \t\t<div className=\"row\">\n        {this.getIssues()}\n  \t\t</div>\n  \t);\n\t}\n}\nexport default AllIssues;"]},"metadata":{},"sourceType":"module"}