{"ast":null,"code":"import _regeneratorRuntime from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/src/components/issue/Issue.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport BarChart from \"../common/BarChart\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport { Accordion, AccordionItem, AccordionItemTitle, AccordionItemBody } from 'react-accessible-accordion';\nimport 'react-accessible-accordion/dist/fancy-example.css';\n\nvar Issues =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Issues, _Component);\n\n  function Issues(props) {\n    var _this;\n\n    _classCallCheck(this, Issues);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Issues).call(this, props));\n    _this.getIssueData =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"/api/issues/issue?id=\".concat(_this.props.match.params.issueId));\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(Issues, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getIssueData().then(function (res) {\n        _this2.setState({\n          issueData: res.issueData\n        });\n      }).catch(function (err) {\n        console.log('Cannot retrieve issue data.');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var title = this.state.issueData ? this.state.issueData.title : null;\n      var description = this.state.issueData ? this.state.issueData.description : null;\n      var billUrl = this.state.issueData ? this.state.issueData.billUrl : null;\n      var votesFor = this.state.issueData ? this.state.issueData.votesFor.length : 0;\n      var votesAgainst = this.state.issueData ? this.state.issueData.votesAgainst.length : 0;\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, this.state.issueData ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-center mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, title)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, description), React.createElement(\"a\", {\n        href: billUrl,\n        target: \"_blank\",\n        className: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, billUrl), votesFor || votesFor ? React.createElement(\"div\", {\n        className: \"col-md-6 col-sm-8 offset-md-3 offset-sm-2 col-lg-4 offset-lg-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(BarChart, {\n        votesFor: votesFor,\n        votesAgainst: votesAgainst,\n        title: title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })) : null, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Accordion, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(AccordionItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(AccordionItemTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Ignore this for now...\")), React.createElement(AccordionItemBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Body content\")))))) : null);\n    }\n  }]);\n\n  return Issues;\n}(Component);\n\nexport default Issues;","map":{"version":3,"sources":["/Users/angelicatriant/GitHub/members-of-parliament/MOPAIP2018/clients/src/components/issue/Issue.js"],"names":["React","Component","Link","BarChart","axios","ReactDOM","Accordion","AccordionItem","AccordionItemTitle","AccordionItemBody","Issues","props","getIssueData","fetch","match","params","issueId","response","json","state","then","res","setState","issueData","catch","err","console","log","title","description","billUrl","votesFor","length","votesAgainst"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SACIC,SADJ,EAEIC,aAFJ,EAGIC,kBAHJ,EAIIC,iBAJJ,QAKO,4BALP;AAMA,OAAO,mDAAP;;IAEMC,M;;;;;AAEJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;AADiB,UAenBC,YAfmB;AAAA;AAAA;AAAA;AAAA,6BAeJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACUC,KAAK,gCAAyB,MAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,OAAjD,EADf;;AAAA;AACPC,cAAAA,QADO;AAAA;AAAA,qBAEAA,QAAQ,CAACC,IAAT,EAFA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAfI;AAEjB,UAAKC,KAAL,GAAa,EAAb;AAFiB;AAGlB;;;;wCAEmB;AAAA;;AAClB,WAAKP,YAAL,GACGQ,IADH,CACQ,UAAAC,GAAG,EAAI;AACX,QAAA,MAAI,CAACC,QAAL,CAAc;AAACC,UAAAA,SAAS,EAAEF,GAAG,CAACE;AAAhB,SAAd;AACD,OAHH,EAIGC,KAJH,CAIS,UAASC,GAAT,EAAa;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACD,OANH;AAOD;;;6BAOQ;AAEP,UAAMC,KAAK,GAAG,KAAKT,KAAL,CAAWI,SAAX,GAAuB,KAAKJ,KAAL,CAAWI,SAAX,CAAqBK,KAA5C,GAAoD,IAAlE;AACA,UAAMC,WAAW,GAAG,KAAKV,KAAL,CAAWI,SAAX,GAAuB,KAAKJ,KAAL,CAAWI,SAAX,CAAqBM,WAA5C,GAA0D,IAA9E;AACA,UAAMC,OAAO,GAAG,KAAKX,KAAL,CAAWI,SAAX,GAAuB,KAAKJ,KAAL,CAAWI,SAAX,CAAqBO,OAA5C,GAAsD,IAAtE;AACA,UAAMC,QAAQ,GAAG,KAAKZ,KAAL,CAAWI,SAAX,GAAuB,KAAKJ,KAAL,CAAWI,SAAX,CAAqBQ,QAArB,CAA8BC,MAArD,GAA8D,CAA/E;AACA,UAAMC,YAAY,GAAG,KAAKd,KAAL,CAAWI,SAAX,GAAuB,KAAKJ,KAAL,CAAWI,SAAX,CAAqBU,YAArB,CAAkCD,MAAzD,GAAkE,CAAvF;AAEA,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,KAAKb,KAAL,CAAWI,SAAX,GACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKK,KAAL,CADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIC,WAAJ,CAJF,EAKE;AAAG,QAAA,IAAI,EAAEC,OAAT;AAAkB,QAAA,MAAM,EAAC,QAAzB;AAAkC,QAAA,SAAS,EAAC,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqDA,OAArD,CALF,EAMIC,QAAQ,IAAIA,QAAb,GACC;AAAK,QAAA,SAAS,EAAC,gEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAEA,QAApB;AAA8B,QAAA,YAAY,EAAEE,YAA5C;AAA0D,QAAA,KAAK,EAAEL,KAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADD,GAIC,IAVJ,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,CADF,EAcE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,CADJ,EAII,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CAJJ,CADF,CADF,CAdF,CADA,GA4BA,IA7BJ,CADF;AAiCD;;;;EA/DkB3B,S;;AAkErB,eAAeS,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport BarChart from \"../common/BarChart\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport {\n    Accordion,\n    AccordionItem,\n    AccordionItemTitle,\n    AccordionItemBody,\n} from 'react-accessible-accordion';\nimport 'react-accessible-accordion/dist/fancy-example.css';\n\nclass Issues extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.getIssueData()\n      .then(res => {\n        this.setState({issueData: res.issueData});\n      })\n      .catch(function(err){\n        console.log('Cannot retrieve issue data.')\n      })\n  }  \n\n  getIssueData = async () => {\n    const response = await fetch(`/api/issues/issue?id=${this.props.match.params.issueId}`);\n    return await response.json();\n  };\n\n  render() {\n\n    const title = this.state.issueData ? this.state.issueData.title : null;\n    const description = this.state.issueData ? this.state.issueData.description : null;\n    const billUrl = this.state.issueData ? this.state.issueData.billUrl : null;\n    const votesFor = this.state.issueData ? this.state.issueData.votesFor.length : 0;\n    const votesAgainst = this.state.issueData ? this.state.issueData.votesAgainst.length : 0;\n\n    return (\n      <div className=\"row\">\n        { this.state.issueData ?\n          <div>\n            <div className=\"col-md-12\">\n              <div className=\"text-center mb-3\">\n                <h3>{title}</h3>\n              </div>\n              <p>{description}</p>\n              <a href={billUrl} target=\"_blank\" className=\"small\">{billUrl}</a>\n              {(votesFor || votesFor) ? \n                <div className='col-md-6 col-sm-8 offset-md-3 offset-sm-2 col-lg-4 offset-lg-4'>\n                  <BarChart votesFor={votesFor} votesAgainst={votesAgainst} title={title} />\n                </div> \n              : null}\n              <hr />\n            </div>\n            <div className=\"col-sm-12\">\n              <Accordion>\n                <AccordionItem>\n                    <AccordionItemTitle>\n                        <h3>Ignore this for now...</h3>\n                    </AccordionItemTitle>\n                    <AccordionItemBody>\n                        <p>Body content</p>\n                    </AccordionItemBody>\n                </AccordionItem>\n              </Accordion>\n            </div>\n          </div>\n        : null }\n      </div>\n    );\n  }\n}\n\nexport default Issues;\n"]},"metadata":{},"sourceType":"module"}